<div class="container">
    <section class="flex">

        <div class="col-3">
            <form   [formGroup]="filterOption" (ngSubmit)="filter()">

                <div><h2>filter</h2></div>
                <div>
                    <select class="form-select" formControlName="id" >
                        <option value="0" >all</option>
                        @for (item of typecontacts; track $index) {
                            <option value={{item.typecontactid}}> {{item.type}}</option>
                        }
                    </select>
                </div>
                <button type="submit" class="btn btn-success" > buscar</button>
            </form>

         
            
        </div>
        <div class="">
            <app-modal-action name="crear" (confirForm)="refresh($event)"  color="btn-primary"/>   
        </div>
    </section>
    <table class="table text-center table-striped">
        <thead>
            <tr>
                <td>Type</td>
                <td>Name</td>
                <td>Number</td>
                <td>Coment</td>
                <td>Adicional Info</td>
                <td>Second adicional Info </td>
                <td colspan="2" > Actions</td>
            </tr>
        </thead>
        <tbody>
            @if ( contacts ) {
                @if(option === 0){
                    @for (item of contacts; track item.contactid) {
                            <tr>
                                <td>{{ item.typecontact}}</td>
                                <td>{{ item.name}}</td>
                                <td>{{ item.phonenum}}</td>
                                <td>{{ item.comment}}</td>
                                <td>{{ item.infoextra1}}</td>
                                <td>{{ item.infoextra2}}</td>
                                <td><app-modal-action name="editar" color="btn-warning" (confirForm)="refresh($event)" idContact={{item.contactid}} /></td>
                                <td><app-modal-action name="eliminar" color="btn-danger" idContact={{item.contactid}} (confirmEvent)="refresh($event)"/></td>
                            </tr>
                        
                    }
                }@else{
                    @for (item of contacts; track item.contactid) {
                       @if (item.typecontactid ===  option) {

                           <tr>
                               <td>{{ item.typecontact}}</td>
                               <td>{{ item.name}}</td>
                               <td>{{ item.phonenum}}</td>
                               <td>{{ item.comment}}</td>
                               <td>{{ item.infoextra1}}</td>
                               <td>{{ item.infoextra2}}</td>
                               <td><app-modal-action name="editar" color="btn-warning" (confirForm)="refresh($event)" idContact={{item.contactid}} /></td>
                               <td><app-modal-action name="eliminar" color="btn-danger" idContact={{item.contactid}} (confirmEvent)="refresh($event)"/></td>
                           </tr>
                       } 
                    
                }
                }
            }
            <tr>

                
            </tr>
        </tbody>
    </table>
    
</div>